# ูุธุงู ูุญุต ุตุญุฉ Backend - Health Check System

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุงุญุชุฑุงูู ููุญุต ุตุญุฉ ุงูู backend ูุถูู ุนูู ุงููุธุงู ุจุดูู ุตุญูุญ ูุจู ุนุฑุถ ุงููุญุชูู ูููุณุชุฎุฏููู. ูููุฑ ุงููุธุงู ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ ูุน ุดุงุดุงุช ุชุญููู ุงุญุชุฑุงููุฉ ูุชูุจููุงุช ููุฑูุฉ ุนูุฏ ูุฌูุฏ ูุดุงูู.

## ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ ูุญุต ุดุงูู ููุตุญุฉ
- ูุญุต ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงุฎุชุจุงุฑ ุงูุนูููุงุช ุงูุฃุณุงุณูุฉ
- ูุญุต ุฎุฏูุงุช ุงููุตุงุฏูุฉ
- ูุนูููุงุช ููุตูุฉ ุนู ุญุงูุฉ ุงููุธุงู

### ๐จ ูุงุฌูุฉ ูุณุชุฎุฏู ุงุญุชุฑุงููุฉ
- ุดุงุดุฉ ุชุญููู ุชูุงุนููุฉ ูุน ุฑุณุงุฆู ูุชุญุฑูุฉ
- ูุคุดุฑุงุช ุญุงูุฉ ุจุตุฑูุฉ (ุฃุฎุถุฑ/ุฃุญูุฑ/ุฃุฒุฑู)
- ุชูุจููุงุช ุนูุฏ ูุฌูุฏ ูุดุงูู
- ุชุตููู ูุชุฌุงูุจ ููุฌูุงู ูุงูููุจููุชุฑ

### โก ุฃุฏุงุก ูุญุณู
- ูุญุต ุณุฑูุน ููุตูุญุฉ ุงูุฃููู (3 ุซูุงู)
- ูุญุต ุดุงูู ูุน ุฅุนุงุฏุฉ ุงููุญุงููุฉ (10 ุซูุงู)
- ูุญุต ุฏูุฑู ูู 30 ุซุงููุฉ
- ุชุฎุฒูู ูุคูุช ููุญุงูุฉ

### ๐ ูุฑุงูุจุฉ ูุณุชูุฑุฉ
- ูุญุต ุชููุงุฆู ุนูุฏ ุงูุนูุฏุฉ ููุชุจููุจ
- ูุญุต ุนูุฏ ุงูุงุชุตุงู/ุงููุทุงุน ุงูุฅูุชุฑูุช
- ุฅุนุงุฏุฉ ูุญุงููุฉ ุฐููุฉ ูุน ุชุฃุฎูุฑ ูุชุฒุงูุฏ

## ุงููููุงุช ุงููุถุงูุฉ

### Backend
- **`backend/api/views.py`**: ุชู ุชุญุณูู endpoint `/api/health/` ููุญุต ุดุงูู

### Frontend
- **`frontend/lib/healthService.ts`**: ุฎุฏูุฉ ูุญุต ุงูุตุญุฉ ุงูุฑุฆูุณูุฉ
- **`frontend/app/components/HealthLoadingScreen.tsx`**: ุดุงุดุฉ ุงูุชุญููู ุงูุงุญุชุฑุงููุฉ
- **`frontend/app/contexts/HealthContext.tsx`**: Context ูุฅุฏุงุฑุฉ ุญุงูุฉ ุงููุธุงู
- **`frontend/app/layout.tsx`**: ุฏูุฌ HealthProvider ูู ุงูุชุทุจูู ุงูุฑุฆูุณู
- **`frontend/app/(dashboard)/layout.tsx`**: ุฅุถุงูุฉ ูุคุดุฑุงุช ุงูุญุงูุฉ ูููุญุฉ ุงูุชุญูู
- **`frontend/app/page.tsx`**: ุฅุถุงูุฉ ูุคุดุฑ ุงูุญุงูุฉ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ

## ููููุฉ ุงูุนูู

### 1. ุนูุฏ ูุชุญ ุงูุชุทุจูู
```typescript
// ูุชู ุนุฑุถ ุดุงุดุฉ ุงูุชุญููู
<HealthLoadingScreen onHealthCheckComplete={handleComplete} />

// ูุญุต ุณุฑูุน ููุตุญุฉ
const healthStatus = await healthService.quickCheck();
```

### 2. ุฃุซูุงุก ุงูุงุณุชุฎุฏุงู
```typescript
// ูุญุต ุฏูุฑู ูู 30 ุซุงููุฉ
useEffect(() => {
  const interval = setInterval(() => {
    checkHealth();
  }, 30000);
  
  return () => clearInterval(interval);
}, []);
```

### 3. ุนูุฏ ูุฌูุฏ ูุดุงูู
```typescript
// ุนุฑุถ ุชูุจูู ุฃุญูุฑ
{hasError && (
  <div className="bg-red-50 border-b border-red-200">
    <p>ุชุญุฐูุฑ: ูุดููุฉ ูู ุงูุงุชุตุงู ุจุงูุฎุงุฏู</p>
    <button onClick={checkHealth}>ุฅุนุงุฏุฉ ุงููุญุงููุฉ</button>
  </div>
)}
```

## API Response

### ุนูุฏ ูุฌุงุญ ุงููุญุต
```json
{
  "status": "healthy",
  "timestamp": "2025-01-15T10:30:00Z",
  "database": "connected",
  "services": {
    "database": true,
    "api": true,
    "authentication": true
  },
  "version": "1.0.0",
  "environment": "production"
}
```

### ุนูุฏ ูุดู ุงููุญุต
```json
{
  "status": "unhealthy",
  "timestamp": "2025-01-15T10:30:00Z",
  "error": "Database connection failed",
  "services": {
    "database": false,
    "api": true,
    "authentication": false
  }
}
```

## ุงูุชุฎุตูุต

### ุชุบููุฑ ูุชุฑุงุช ุงููุญุต
```typescript
<HealthProvider 
  enablePeriodicChecks={true} 
  checkInterval={60000} // 60 ุซุงููุฉ
  showLoadingScreen={true}
>
```

### ุชุฎุตูุต ุดุงุดุฉ ุงูุชุญููู
```typescript
<HealthLoadingScreen 
  onHealthCheckComplete={handleComplete}
  showDetailedStatus={true}
/>
```

### ุงุณุชุฎุฏุงู ูุคุดุฑ ุงูุญุงูุฉ
```typescript
import { HealthStatusIndicator } from '@/app/contexts/HealthContext';

// ูุคุดุฑ ุจุณูุท
<HealthStatusIndicator showText={false} />

// ูุคุดุฑ ูุน ูุต
<HealthStatusIndicator showText={true} />
```

## ุงูุงุณุชุฎุฏุงู ูู ุงูููููุงุช

### ูุญุต ุงูุญุงูุฉ ูุฏููุงู
```typescript
import { useHealth } from '@/app/contexts/HealthContext';

function MyComponent() {
  const { healthStatus, isChecking, checkHealth } = useHealth();
  
  if (healthStatus?.status === 'unhealthy') {
    return <div>ุงููุธุงู ุบูุฑ ูุชุงุญ ุญุงููุงู</div>;
  }
  
  return <div>ุงููุญุชูู ุงูุนุงุฏู</div>;
}
```

### ุงูุงุณุชุฌุงุจุฉ ูุชุบููุฑ ุงูุญุงูุฉ
```typescript
useEffect(() => {
  if (healthStatus?.status === 'unhealthy') {
    // ุฅุธูุงุฑ ุชูุจูู ุฃู ุชุนุทูู ููุฒุงุช ูุนููุฉ
    showNotification('ูุดููุฉ ูู ุงูุงุชุตุงู ุจุงูุฎุงุฏู');
  }
}, [healthStatus]);
```

## ุงูุฃูุงู ูุงูุฃุฏุงุก

### ุงูุฃูุงู
- ูุญุต ุงูุตุญุฉ ูุง ูุชุทูุจ ูุตุงุฏูุฉ (AllowAny)
- ูุง ูุชู ูุดู ูุนูููุงุช ุญุณุงุณุฉ ูู ุงูุงุณุชุฌุงุจุฉ
- ุญูุงูุฉ ูู ูุฌูุงุช DoS ูุน timeout

### ุงูุฃุฏุงุก
- ูุญุต ุณุฑูุน ููุตูุญุฉ ุงูุฃููู (3 ุซูุงู)
- ุชุฎุฒูู ูุคูุช ููุญุงูุฉ ูุชุฌูุจ ุงููุญูุตุงุช ุงููุชูุฑุฑุฉ
- ูุญุต ุฏูุฑู ููุท ุนูุฏ ุงูุญุงุฌุฉ

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ

1. **ุดุงุดุฉ ุงูุชุญููู ูุง ุชุฎุชูู**
   - ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
   - ุชุญูู ูู ุฃู ุงูู backend ูุนูู
   - ุชุญูู ูู URL ูู `NEXT_PUBLIC_API_URL`

2. **ูุคุดุฑ ุงูุญุงูุฉ ูุธูุฑ ุฏุงุฆูุงู ุฃุญูุฑ**
   - ุชุญูู ูู endpoint `/api/health/`
   - ุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ุชุญูู ูู ุฅุนุฏุงุฏุงุช CORS

3. **ูุญุต ุฏูุฑู ูุง ูุนูู**
   - ุชุฃูุฏ ูู ุชูุนูู `enablePeriodicChecks`
   - ุชุญูู ูู ูููุฉ `checkInterval`

### ุณุฌูุงุช ุงูุชุทููุฑ
```typescript
// ุชูุนูู ุงูุณุฌูุงุช ูู ูุถุน ุงูุชุทููุฑ
console.log('Health Status:', healthStatus);
console.log('Is Checking:', isChecking);
console.log('Has Error:', hasError);
```

## ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

### ููุฒุงุช ูุฎุทุทุฉ
- [ ] ุฅุดุนุงุฑุงุช push ุนูุฏ ูุฌูุฏ ูุดุงูู
- [ ] ุฅุญุตุงุฆูุงุช ููุตูุฉ ุนู ุฃููุงุช ุงูุงุณุชุฌุงุจุฉ
- [ ] ุฏุนู ููุญุต ุฎุฏูุงุช ุฎุงุฑุฌูุฉ
- [ ] ููุญุฉ ุชุญูู ูููุฑุงูุจุฉ

### ุชุญุณููุงุช ุงูุฃุฏุงุก
- [ ] ูุญุต ูุชูุงุฒู ูุฎุฏูุงุช ูุชุนุฏุฏุฉ
- [ ] ุชุญุณูู ุฎูุงุฑุฒููุฉ ุฅุนุงุฏุฉ ุงููุญุงููุฉ
- [ ] ุถุบุท ุงุณุชุฌุงุจุงุช API

---

## ุงูุฏุนู

ููุญุตูู ุนูู ุงููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงููุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.

**ุชู ุงูุชุทููุฑ ุจู โค๏ธ ูุถูุงู ุฃูุถู ุชุฌุฑุจุฉ ูุณุชุฎุฏู**
