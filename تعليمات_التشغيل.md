# تعليمات تشغيل الميزات الجديدة

## نظرة سريعة
تم إضافة ميزة عرض البيانات بطريقتين:
1. **عرض حسب اليتيم**: عرض تقليدي لجميع الأيتام
2. **عرض حسب الوصي**: عرض مجمع للأوصياء مع إمكانية توسيع البيانات لرؤية الأيتام

## خطوات التشغيل

### 1. تشغيل الـ Backend (Django)

```bash
cd /home/mohjas/CascadeProjects/AboNaheb/backend

source venv/bin/activate

python manage.py makemigrations

python manage.py migrate

python manage.py runserver
```

### 2. تشغيل الـ Frontend (Next.js)

في terminal جديد:

```bash
cd /home/mohjas/CascadeProjects/AboNaheb/frontend

npm install

npm run dev
```

### 3. الوصول إلى التطبيق

- افتح المتصفح وانتقل إلى: `http://localhost:3000`
- سجل دخولك
- انتقل إلى قسم "بيانات الأيتام"
- استمتع بطريقتي العرض الجديدتين!

## التحقق من عمل الميزات

### اختبار عرض الأوصياء:
1. اضغط على تبويب "عرض حسب الوصي"
2. اضغط على أي بطاقة وصي
3. يجب أن ترى:
   - معلومات الوصي في قسم أزرق
   - جدول بأسماء وبيانات الأيتام

### اختبار البحث:
- جرب البحث باسم وصي
- جرب البحث برقم هاتف
- جرب الفلترة حسب المحافظة

## الـ Endpoints الجديدة

- `GET /api/guardians/` - جلب جميع الأوصياء مع أيتامهم
- `GET /api/guardians/<id>/` - جلب وصي محدد
- يدعم query parameters: `?search=...&governorate=...`

## في حالة حدوث مشكلة

### مشكلة: لا يظهر الأوصياء
**الحل**: تأكد من وجود بيانات في قاعدة البيانات

### مشكلة: خطأ في الـ API
**الحل**: 
1. تحقق من تشغيل الـ backend
2. افتح console المتصفح وتحقق من الأخطاء
3. تأكد من تسجيل الدخول

### مشكلة: التصميم لا يظهر بشكل صحيح
**الحل**: امسح الـ cache وأعد تحميل الصفحة (Ctrl+Shift+R)

## ملاحظات مهمة

- البيانات تُحمل تلقائياً عند التبديل بين التبويبات
- يمكن فتح عدة أوصياء في نفس الوقت
- الألوان تساعد في التمييز بين البيانات:
  - أزرق: ذكور
  - زهري: إناث
  - أخضر: حالة صحية جيدة
  - أحمر: حالة صحية سيئة

## الدعم الفني

في حالة وجود أي مشاكل أو استفسارات، يرجى التواصل مع فريق التطوير.

